(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(e,a,t){e.exports=t(73)},72:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(30),c=t.n(l),s=t(6),o=t(8),m=t(1),u=t(11),i=t(12),d=t(9),b=t.n(d),p=t(14),h=t.n(p);var v=function(e){e.auth&&e.history.push("/");var a=Object(n.useState)(null),t=Object(s.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),d=m[0],p=m[1],v=Object(n.useState)({username:"",email:"",password:"",password2:""}),E=Object(s.a)(v,2),f=E[0],N=E[1];function g(e){var a=e.target,t=a.value,n=a.name;N((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},n,t))}))}return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"container d-flex h-100 align-items-center"},r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("h1",null,f.username?f.username.length>12?"Hello "+f.username.substring(0,12)+"...":"Hello "+f.username:"Hello"),r.a.createElement("form",null,r.a.createElement("input",{className:"input",value:f.email,onChange:g,name:"email",placeholder:"Email",type:"Username",autoComplete:"no"}),r.a.createElement("input",{className:"input",value:f.username,onChange:g,placeholder:"Username",name:"username",autoComplete:"no"}),r.a.createElement("input",{className:"input",value:f.password,onChange:g,name:"password",placeholder:"Password",type:"password",autoComplete:"no"}),r.a.createElement("input",{className:"input",value:f.password2,onChange:g,name:"password2",placeholder:"Confirm Password",type:"password",autoComplete:"no"}),r.a.createElement("button",{type:"submit",onClick:function(a){a.preventDefault(),b()({method:"post",data:h.a.stringify(f),withCredentials:!0,url:e.serverURL+"/register",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(a){console.log(a),"success"===a.data?(c(null),p(!0),setTimeout((function(){e.reAuth()}),2e3)):c((function(e){return a.data.toString()}))})).catch((function(e){c((function(e){return"Nuts! An unknown error occured"}))}))},className:"form-button btn btn-danger join-button"},"Sign Up"),l&&r.a.createElement("div",{className:"invalid-feedback d-block"},l),d&&r.a.createElement("div",{className:"valid-feedback d-block"},"Success! Please verify your email address")))))};var E=function(e){e.auth&&e.history.push("/");var a=Object(n.useState)(null),t=Object(s.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)({email:"",password:""}),m=Object(s.a)(o,2),d=m[0],p=m[1];function v(e){var a=e.target,t=a.value,n=a.name;p((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},n,t))}))}return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"container d-flex h-100 align-items-center"},r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("h1",null,"Welcome back!"),r.a.createElement("form",{autoComplete:"new-password"},r.a.createElement("input",{autoFocus:!0,id:"email",className:"input",value:d.email,onChange:v,name:"email",placeholder:"Email",type:"email"}),r.a.createElement("input",{autoFocus:!0,id:"password",className:"input",value:d.password,onChange:v,name:"password",placeholder:"Password",type:"password"}),r.a.createElement("button",{onClick:function(a){a.preventDefault(),b()({method:"post",data:h.a.stringify(d),withCredentials:!0,url:e.serverURL+"/login",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(a){console.log("resdata: "+a.data),"success"===a.data?(e.reAuth(),e.history.push("/")):c((function(e){return a.data.toString()}))})).catch((function(e){c((function(e){return"Invalid email or password"}))}))},className:"form-button btn btn-danger join-button"},"Log in"),l&&r.a.createElement("div",{className:"invalid-feedback d-block"},l)))))};var f=function(e){return r.a.createElement("div",null,"About")};var N=function(e){return r.a.createElement("div",null,"rules")};var g=function(e){function a(){b()({method:"get",withCredentials:!0,url:e.serverURL+"/logout"}).then((function(){e.reAuth()}))}return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark fixed-top"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},"NNN"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item mr-3"},r.a.createElement(o.b,{to:"/about",className:"nav-link"},"What is this?")),r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(o.b,{to:"/about",className:"nav-link"},"NNN Rules")),e.auth?r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(o.b,{type:"button",onClick:a,className:"btn btn-outline-light "},"Log out")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item mr-4"},r.a.createElement(o.b,{type:"button",to:"/login",className:"btn btn-outline-light "},"Log in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{type:"button",to:"/register",className:"btn btn-danger "},"Join the boys!")))))))};var w=function(e){var a=Object(n.useState)(o()),t=Object(s.a)(a,2),l=t[0],c=t[1];function o(){var e=Date.parse("Nov 1 2020")-Date.parse(new Date),a=Math.floor(e/1e3%60),t=Math.floor(e/1e3/60%60),n=Math.floor(e/36e5%24);return Math.floor(e/864e5)+":"+n+":"+t+":"+a}switch(Object(n.useEffect)((function(){setTimeout((function(){c(o())}),1e3)})),e.size){case 1:return r.a.createElement("h1",{className:e.class},l);case 2:return r.a.createElement("h2",{className:e.class},l);case 3:return r.a.createElement("h3",{className:e.class},l);case 4:return r.a.createElement("h4",{className:e.class},l);case 5:return r.a.createElement("h5",{className:e.class},l);case 6:return r.a.createElement("h6",{className:e.class},l);default:return r.a.createElement("h5",{className:e.class},l)}};var j=function(e){return r.a.createElement("header",{className:"center"},r.a.createElement("div",{className:"container d-flex h-100 align-items-center"},r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("h1",{className:"mx-auto mt-2 mb-0"},"No Nut November"),r.a.createElement("h5",{className:"mx-auto mt-2 mb-0"},r.a.createElement("em",null,"Where boys become men.")),r.a.createElement(w,{className:"mx-auto mt-2 mb-5",size:5}),r.a.createElement("h5",null,"36,847 comrades"),r.a.createElement(o.b,{type:"button",to:"/register",className:"btn btn-danger"},"Join the boys!"))))};function y(e){if(!e.auth)return r.a.createElement(j,null)}var O=function(e){return r.a.createElement(y,null)};var x=function(){var e,a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1];e="https://nnn-server.herokuapp.com";var u=Object(n.useState)(e),i=Object(s.a)(u,1)[0];function d(){b.a.get(i+"/user/auth",{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}))}return d(),r.a.createElement(o.a,null,r.a.createElement(g,{serverURL:i,auth:l,reAuth:d}),r.a.createElement(m.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(O,Object.assign({},e,{auth:l}))}}),r.a.createElement(m.a,{path:"/register",exact:!0,render:function(e){return r.a.createElement(v,Object.assign({},e,{serverURL:i,auth:l,reAuth:d}))}}),r.a.createElement(m.a,{path:"/login",exact:!0,render:function(e){return r.a.createElement(E,Object.assign({},e,{serverURL:i,auth:l,reAuth:d}))}}),r.a.createElement(m.a,{path:"/about",exact:!0,component:f}),r.a.createElement(m.a,{path:"/rules",exact:!0,component:N}))};t(71),t(72);c.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.8a2f0d65.chunk.js.map